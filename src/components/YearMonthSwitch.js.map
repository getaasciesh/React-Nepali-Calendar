{"version":3,"file":"YearMonthSwitch.js","sourceRoot":"","sources":["YearMonthSwitch.tsx"],"names":[],"mappings":"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","sourcesContent":["import * as React from 'react';\nimport styles from './Calendar.css';\nimport calendarData from '../functions/calendarData';\nimport * as calFns from '../functions/calendarFunctions';\n\nenum Switch { month, year }\n\nexport interface YearMonthSwitchProps {\n  onSwitch: (year: number, month: number) => void\n  defaultYear: number;\n  defaultMonth: number;\n}\n\nexport interface YearMonthSwitchState {\n  currentYear: number;\n  currentMonth: number;\n  activeSwitch: Switch;\n}\n\nclass YearMonthSwitch extends React.Component<YearMonthSwitchProps, YearMonthSwitchState> {\n\n  constructor(props) {\n    super(props);\n    this.state = {\n      currentYear: props.defaultYear,\n      currentMonth: props.defaultMonth,\n      activeSwitch: Switch.month\n    }\n  }\n\n  private setCurrent(currentYear = this.state.currentYear, currentMonth = this.state.currentMonth) {\n    this.setState({ currentMonth, currentYear });\n    this.props.onSwitch(currentYear, currentMonth);\n  }\n\n  private goBack() {\n    if (this.state.activeSwitch === Switch.year && calendarData.minBsYear < this.state.currentYear) {\n      this.setCurrent(this.state.currentYear - 1);\n    }\n    if (this.state.activeSwitch === Switch.month) {\n      let currentMonth = this.state.currentMonth - 1;\n      let currentYear = this.state.currentYear;\n      if (currentMonth == 0) {\n        currentMonth = 12;\n        currentYear = this.state.currentYear - 1;\n      }\n      if (calendarData.minBsYear <= currentYear) {\n        this.setCurrent(currentYear, currentMonth);\n      }\n    }\n  }\n\n  private goForward() {\n    if (this.state.activeSwitch === Switch.year && calendarData.maxBsYear > this.state.currentYear) {\n      this.setCurrent(this.state.currentYear + 1);\n    }\n    if (this.state.activeSwitch === Switch.month) {\n      let currentMonth = this.state.currentMonth + 1;\n      let currentYear = this.state.currentYear;\n      if (currentMonth > 12) {\n        currentMonth = 1;\n        currentYear = this.state.currentYear + 1;\n      }\n      if (calendarData.maxBsYear >= currentYear) {\n        this.setCurrent(currentYear, currentMonth);\n      }\n    }\n  }\n\n  render(): JSX.Element {\n    return (\n      <div className={`r-n-cal-switch ${styles.switch}`}>\n        <div className={`r-n-cal-backBtn ${styles.btns} ${styles.backBtn}`} onClick={() => this.goBack()}>{'<'}</div>\n        <div className={`r-n-cal-yearBtn ${styles.btns} ${styles.btns} ${this.state.activeSwitch == Switch.year ? styles.activeSwitch : ''}`}\n          onClick={() => this.setState({ activeSwitch: Switch.year })}>\n          {calFns.toDevanagariDigits(this.state.currentYear)}\n        </div>\n        <div className={`r-n-cal-monthBtn ${styles.btns} ${styles.btns}  ${this.state.activeSwitch == Switch.month ? styles.activeSwitch : ''}`}\n          onClick={() => this.setState({ activeSwitch: Switch.month })}>\n          {calendarData.bsMonths[this.state.currentMonth - 1]}\n        </div>\n        <div className={`r-n-cal-forwardBtn ${styles.btns} ${styles.forwardBtn}`} onClick={() => this.goForward()}>{'>'}</div>\n      </div>\n    );\n  }\n}\n\nexport default YearMonthSwitch;"]}